"use strict";angular.module("voteWebApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/views/log-in.html",{templateUrl:"views/log-in.html",controller:"LoginController"}).when("/views/user.html",{templateUrl:"views/user.html",controller:"UserController"}).when("/views/single.html/:id",{templateUrl:"views/single.html",controller:"SingleController"}).when("/views/register.html",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/views/create.html",{templateUrl:"views/create.html",controller:"CreateController"}).when("/views/update.html/:id",{templateUrl:"views/update.html",controller:"UpdateController"}).otherwise({redirectTo:"/"})}]);var myApp=angular.module("voteWebApp");myApp.controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],console.log(123)}]);var myApp=angular.module("voteWebApp");myApp.factory("StoreData",function(){return{Tok:{}}}),myApp.controller("LoginController",["$scope","$http","StoreData",function(a,b,c){a.login=function(){console.log(a.cusername),console.log(a.cpassword),b.post("http://sat-idea-voter.herokuapp.com/api/v1/login",{username:a.cusername,password:a.cpassword}).success(function(a){console.log(a),c.Tok=a,console.log("s"+c.Tok),window.location.href="#/views/user.html"}).error(function(b){a.errorMessage=b.error,console.log(a.errorMessage)})}}]),myApp.factory("Entry",["$resource",function(a){return a("http://sat-idea-voter.herokuapp.com/api/v1/ideas/:id",{id:"@id"},{update:{method:"PUT"}})}]),myApp.controller("UserController",["$scope","StoreData","Entry",function(a,b,c){console.log("yoqi"),console.log(b.Tok.token),a.entries=c.query({token:b.Tok.token},function(){console.log(a.entries)})}]),myApp.controller("SingleController",["$http","$scope","$routeParams","Entry","StoreData",function(a,b,c,d,e){console.log(c.id),console.log(e.Tok.token),b.single=d.get({id:c.id,token:e.Tok.token},function(){console.log(e.Tok.token),console.log(b.single)}),b.upfun=function(){var f="http://sat-idea-voter.herokuapp.com/api/v1/ideas/"+b.single.id+"/up";console.log("this is upurl"+f),a.post(f,{token:e.Tok.token}).success(function(){console.log("up success"),b.single=d.get({id:c.id,token:e.Tok.token},function(){})})},b.downfun=function(){var f="http://sat-idea-voter.herokuapp.com/api/v1/ideas/"+b.single.id+"/down";console.log("this is downurl"+f),a.post(f,{token:e.Tok.token}).success(function(){console.log("down success"),b.single=d.get({id:c.id,token:e.Tok.token},function(){})})},b.deletefun=function(){b.single.$delete({id:c.id,token:e.Tok.token},function(){console.log("delete done")})}}]),myApp.controller("RegisterController",["$scope","$http",function(a,b){a.register=function(){b.post("http://sat-idea-voter.herokuapp.com/api/v1/signup",{username:a.rusername,password:a.rpassword,password_confirmation:a.rconfirmation}).success(function(){console.log("done!"),window.location.href="#/views/log-in.html"})}}]),myApp.controller("CreateController",["$scope","$http","StoreData",function(a,b,c){a.create=function(){console.log("create"+c.Tok.token),b.post("http://sat-idea-voter.herokuapp.com/api/v1/ideas",{title:a.ctitle,content:a.ccontent,token:c.Tok.token}).success(function(){console.log("idea created!"),window.location.href="#/views/user.html"})}}]),myApp.controller("UpdateController",["$http","$scope","Entry","$routeParams","StoreData",function(a,b,c,d,e){b.single=c.get({id:d.id,token:e.Tok.token},function(){console.log(e.Tok.token),console.log(b.single)}),b.update=function(){console.log("click update"),console.log(b.single),b.single.$update({id:b.single.id,token:e.Tok.token},function(){console.log(123),window.location.href="#/views/single.html/"+b.single.id})}}]);